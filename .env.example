# ===========================================
# Meeting Assistant - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# -------------------------------------------
# Supabase Configuration
# -------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Database URL (for direct connections)
# Get from: https://app.supabase.com/project/_/settings/database
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres

# -------------------------------------------
# Cloudflare R2 Configuration
# -------------------------------------------
# Get Account ID from: https://dash.cloudflare.com (right sidebar)
# Create R2 API Token: https://dash.cloudflare.com/profile/api-tokens
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_BUCKET_NAME=meeting-assistant

# R2 Public URL (if using public bucket or custom domain)
# Format: https://pub-{hash}.r2.dev or your custom domain
R2_PUBLIC_URL=https://pub-xxx.r2.dev

# R2 Endpoint (auto-generated from account ID)
R2_ENDPOINT=https://${R2_ACCOUNT_ID}.r2.cloudflarestorage.com

# -------------------------------------------
# OpenAI Configuration
# -------------------------------------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-api-key

# Whisper model to use (whisper-1 is currently the only option)
OPENAI_WHISPER_MODEL=whisper-1

# -------------------------------------------
# Google OAuth Configuration
# -------------------------------------------
# Create at: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID (Web Application)
# 2. Add redirect URI: http://localhost:3000/api/auth/callback/google
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# -------------------------------------------
# Redis Configuration
# -------------------------------------------
# Local development
REDIS_URL=redis://localhost:6379

# Production (with auth)
# REDIS_URL=redis://:password@redis-host:6379

# -------------------------------------------
# Application URLs
# -------------------------------------------
# Frontend URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Backend API URL
API_URL=http://localhost:8000

# Internal service URLs (Docker network)
SCHEDULER_URL=http://scheduler:8001
ORCHESTRATOR_URL=http://bot-orchestrator:8002

# -------------------------------------------
# Bot Configuration
# -------------------------------------------
# Bot display name in meetings
BOT_DISPLAY_NAME=RKJ.AI

# How many minutes before meeting to join
BOT_JOIN_BEFORE_MINUTES=2

# Maximum meeting duration (hours) before auto-leave
BOT_MAX_DURATION_HOURS=4

# Recording quality (720p, 1080p)
BOT_RECORDING_QUALITY=1080p

# -------------------------------------------
# Feature Flags
# -------------------------------------------
# Enable/disable features
FEATURE_ZOOM_BOT=false
FEATURE_SPEAKER_DIARIZATION=false
FEATURE_AI_SUMMARY=false

# -------------------------------------------
# Rate Limiting (Security)
# -------------------------------------------
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# Global limits per IP (requests/window in seconds)
RATE_LIMIT_GLOBAL=100
RATE_LIMIT_WINDOW=60

# Authenticated user limits
RATE_LIMIT_AUTH=200
RATE_LIMIT_AUTH_WINDOW=60

# Sensitive endpoint limits (stricter)
RATE_LIMIT_SENSITIVE=10
RATE_LIMIT_SENSITIVE_WINDOW=60

# Trusted IPs that bypass rate limiting (comma-separated, CIDR supported)
# Internal networks and VPS IPs for benchmarks
TRUSTED_IPS=127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# -------------------------------------------
# Monitoring & Logging
# -------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Sentry DSN (optional, for error tracking)
SENTRY_DSN=

# -------------------------------------------
# Development Only
# -------------------------------------------
# Enable debug mode (never in production!)
DEBUG=true

# Skip actual meeting join (for testing)
DRY_RUN=false
